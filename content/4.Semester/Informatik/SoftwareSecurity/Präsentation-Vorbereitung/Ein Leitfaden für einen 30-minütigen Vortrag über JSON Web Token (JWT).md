---
tags:
  - 4semester
  - Seminar
fach: "[[Bachelorseminar-Software Security]]"
Thema:
Benötigte Zeit:
date created: Monday, 3. June 2024, 20:16
date modified: Wednesday, 19. June 2024, 15:58
---

> [!summary] Resscouren
>
> # Bibliography Recommendation Report: "Wie präsentiere ich einen 30 minütigen Vortrag über JSON Web Token am besten?"
>
> ## Introduction
>
> Presenting a 30-minute talk on JSON Web Tokens (JWT) requires a comprehensive understanding of the topic, structured content, and engaging presentation techniques. This report provides a detailed analysis of various sources that can help in preparing and delivering an effective presentation on JWT. Each source is evaluated based on its relevance, reliability, and significance to the topic.
>
> ## Source Analysis
>
> ### 1. TechWatch: A Comprehensive Guide to Understanding and Creating JSON Web Tokens (JWT)
>
> - **Relevance:** This source is highly relevant as it provides a step-by-step guide to understanding and creating JWTs. It covers the structure, encoding, and signing of JWTs, which are essential components for any presentation on the topic.
> - **Reliability:** TechWatch is a reputable blog that focuses on technology and development topics. The detailed explanations and structured format make it a reliable source for understanding the technical aspects of JWTs.
> - **Significance:** The guide's comprehensive nature ensures that all fundamental aspects of JWTs are covered. This source can be used to explain the basics and technical details of JWTs, making it a cornerstone for the presentation.
>
> ### 2. Auth0: What is a JSON Web Token?
>
> - **Relevance:** Auth0's resource is crucial for understanding the definition, structure, and use cases of JWTs. It explains the open standard (RFC 7519) and the scenarios where JWTs are useful.
> - **Reliability:** Auth0 is a well-known identity management platform, and its documentation is widely respected in the developer community. The information provided is accurate and up-to-date.
> - **Significance:** This source is significant for explaining the practical applications of JWTs, such as authorization and information exchange. It also provides insights into the security aspects of JWTs, which is essential for a comprehensive presentation.
>
> ### 3. JWT.io: Introduction to JSON Web Tokens
>
> - **Relevance:** JWT.io offers a concise introduction to JWTs, including their structure, components, and use cases. It also provides tools for decoding, verifying, and generating JWTs.
> - **Reliability:** JWT.io is maintained by Auth0, ensuring the information is reliable and authoritative. The site is frequently updated to reflect the latest standards and practices.
> - **Significance:** This source is valuable for its practical tools and clear explanations. It can be used to demonstrate how JWTs work in real-time, making the presentation more interactive and engaging.
>
> ### 4. Medium: Mastering JSON Web Tokens (JWT): A Comprehensive Guide
>
> - **Relevance:** This guide delves into the structure, components, and practical implementation of JWTs. It is designed to help professionals implement robust access control mechanisms and stateless authentication.
> - **Reliability:** Medium articles can vary in reliability, but this guide is written by Hemang Sinha, a knowledgeable author in the field. The detailed explanations and practical examples add to its credibility.
> - **Significance:** The guide's focus on practical implementation makes it significant for explaining how JWTs can be used in real-world scenarios. It also highlights the benefits of JWTs over traditional authentication methods, which can be a key point in the presentation.
>
> ### 5. IONOS: JSON Web Token (JWT) vorgestellt
>
> - **Relevance:** This source introduces JWTs and explains their use in web authentication. It covers the structure, encoding, and signing of JWTs, along with practical examples.
> - **Reliability:** IONOS is a reputable web hosting and cloud service provider. The information provided is reliable and well-structured, making it a trustworthy source.
> - **Significance:** The practical examples and clear explanations make this source significant for demonstrating how JWTs are used in real-world applications. It also provides insights into the advantages of JWTs over traditional authentication methods.
>
> ### 6. Medium: Explaining JSON Web Tokens (JWT) with Real-Life Examples
>
> - **Relevance:** This article explains JWTs using real-life examples, making it easier to understand their practical applications. It covers the basics of JWTs and their use in authentication and authorization.
> - **Reliability:** The article is written by Shubhadeep Chattopadhyay, a knowledgeable author in the field. The use of real-life examples adds to its credibility and reliability.
> - **Significance:** The real-life examples make this source significant for illustrating how JWTs are used in practice. It can be used to make the presentation more relatable and engaging for the audience.
>
> ### 7. Karrierebibel: Präsentationstechniken
>
> - **Relevance:** This source provides tips and techniques for effective presentations. It covers various aspects of presentation skills, including structure, delivery, and the use of technical aids.
> - **Reliability:** Karrierebibel is a well-known career advice platform, and its articles are written by experts in the field. The information provided is reliable and practical.
> - **Significance:** This source is significant for improving the delivery of the presentation. It offers practical tips on how to engage the audience, structure the content, and use visual aids effectively. These techniques can enhance the overall impact of the presentation on JWTs.
>
> ## Conclusion
>
> Preparing a 30-minute presentation on JSON Web Tokens requires a thorough understanding of the topic and effective presentation skills. The sources analyzed in this report provide comprehensive information on JWTs, including their structure, components, practical applications, and security aspects. Additionally, the presentation techniques from Karrierebibel can help in delivering the content effectively.
>
> By leveraging these sources, you can create a well-structured, informative, and engaging presentation on JWTs. Each source contributes uniquely to different aspects of the presentation, ensuring a comprehensive and impactful delivery.
>
> ## References
>
> - TechWatch: A Comprehensive Guide to Understanding and Creating JSON Web Tokens (JWT)
> - Auth0: What is a JSON Web Token?
> - JWT.io: Introduction to JSON Web Tokens
> - Medium: Mastering JSON Web Tokens (JWT): A Comprehensive Guide
> - IONOS: JSON Web Token (JWT) vorgestellt
> - Medium: Explaining JSON Web Tokens (JWT) with Real-Life Examples
> - Karrierebibel: Präsentationstechniken

# Ein umfassender Leitfaden zur Präsentation eines 30-minütigen Vortrags über JSON Web Token (JWT)

## Einführung

In der heutigen digitalen Welt ist die Sicherheit von Daten von größter Bedeutung. JSON Web Tokens (JWT) haben sich als eine beliebte Methode zur sicheren Übertragung von Informationen zwischen Parteien etabliert. JWTs bieten eine kompakte, URL-sichere Möglichkeit, Daten als JSON-Objekt zu übertragen, und sind besonders nützlich für Authentifizierungs- und Autorisierungszwecke in modernen Webanwendungen.

Dieser Bericht zielt darauf ab, Ihnen eine detaillierte Anleitung zur Vorbereitung und Präsentation eines 30-minütigen Vortrags über JSON Web Tokens zu geben. Egal, ob Sie ein erfahrener Entwickler sind oder gerade erst anfangen, dieser Leitfaden wird Ihnen helfen, die wichtigsten Konzepte und technischen Aspekte von JWTs zu verstehen und effektiv zu vermitteln.

## Was ist ein JSON Web Token (JWT)?

Ein JSON Web Token (JWT) ist ein offener Standard (RFC 7519), der eine kompakte und in sich geschlossene Methode zur sicheren Übertragung von Informationen zwischen Parteien als JSON-Objekt definiert. Diese Informationen können überprüft und als vertrauenswürdig eingestuft werden, da sie digital signiert sind. JWTs können mit einem geheimen Schlüssel (HMAC-Algorithmus) oder einem öffentlichen/privaten Schlüsselpaar (RSA) signiert werden ([Auth0](https://auth0.com)).

### Struktur eines JWT

Ein JWT besteht aus drei Teilen, die durch Punkte (.) getrennt sind: Header, Payload und Signatur. Diese Teile sind Base64Url-kodiert und werden wie folgt dargestellt: `xxxxx.yyyyy.zzzzz`. Der Header enthält den Typ des Tokens und den verwendeten Signaturalgorithmus, die Payload enthält die Claims, und die Signatur stellt sicher, dass das Token nicht manipuliert wurde ([Ionos](https://www.ionos.de)).

## Anwendungsbereiche von JWT

JWTs sind besonders nützlich in Szenarien, in denen eine sichere und effiziente Authentifizierung und Autorisierung erforderlich ist. Sie werden häufig in Single-Page-Anwendungen (SPAs), mobilen Anwendungen und APIs verwendet, um Benutzersitzungen zu verwalten, ohne dass serverseitige Sitzungsinformationen gespeichert werden müssen ([Techwatch](https://techwatch.com)).

## Vorteile von JWT

Die Verwendung von JWTs bietet mehrere Vorteile gegenüber traditionellen Authentifizierungsmethoden wie Cookies und Sitzungen. JWTs sind stateless, was bedeutet, dass sie keine serverseitige Speicherung erfordern, und sie sind leichtgewichtig und einfach zu integrieren. Darüber hinaus bieten sie eine hohe Sicherheit durch digitale Signaturen und können problemlos in verschiedenen Programmiersprachen und Frameworks implementiert werden ([Medium](https://medium.com)).

## Einführung in JSON Web Tokens (JWT)

### Was ist ein JSON Web Token (JWT)?

Ein JSON Web Token (JWT) ist ein offener Standard (RFC 7519), der eine kompakte und selbstenthaltende Methode zur sicheren Übertragung von Informationen zwischen Parteien als JSON-Objekt definiert. Diese Informationen können überprüft und als vertrauenswürdig eingestuft werden, da sie digital signiert sind. JWTs können entweder mit einem geheimen Schlüssel (HMAC-Algorithmus) oder einem öffentlichen/privaten Schlüsselpaar (RSA oder ECDSA) signiert werden ([jwt.io](https://jwt.io)).

### Struktur eines JWT

Ein JWT besteht aus drei Teilen, die durch Punkte (.) getrennt sind: Header, Payload und Signatur. Diese Teile sind Base64Url-kodiert und werden zu einem kompakten String zusammengefügt ([medium.com](https://medium.com)).

#### Header

Der Header enthält typischerweise zwei Teile: den Typ des Tokens, der immer "JWT" ist, und den verwendeten Signaturalgorithmus, wie HMAC SHA256 oder RSA ([auth0.com](https://auth0.com)).

```json
{
  "alg": "HS256",
  "typ": "JWT"
}
```

#### Payload

Die Payload enthält die Claims. Claims sind Aussagen über eine Entität (typischerweise der Benutzer) und zusätzliche Metadaten. Es gibt drei Arten von Claims: registrierte, öffentliche und private Claims ([jwt.io](https://jwt.io)).

- Registrierte Claims: Diese sind vordefinierte Claims, die eine Reihe von Standardfeldern umfassen, wie iss (Issuer), exp (Expiration Time), sub (Subject), und aud (Audience).
- Öffentliche Claims: Diese können von den Benutzern definiert werden, um Informationen zu teilen, und sollten im IANA JSON Web Token Registry oder als URI definiert werden, um Namenskollisionen zu vermeiden.
- Private Claims: Diese sind benutzerdefinierte Claims, die zwischen Parteien verwendet werden, die sich auf die Verwendung dieser Claims geeinigt haben.

Ein Beispiel für eine Payload könnte wie folgt aussehen:

```json
{
  "sub": "1234567890",
  "name": "John Doe",
  "admin": true
}
```

#### Signatur

Um die Signatur zu erstellen, wird der kodierte Header, die kodierte Payload und ein geheimer Schlüssel oder ein privater Schlüssel mit dem im Header angegebenen Algorithmus kombiniert. Dies stellt sicher, dass das Token nicht verändert wurde ([jwt.io](https://jwt.io)).

```plaintext
HMACSHA256(
  base64UrlEncode(header) + "." +
  base64UrlEncode(payload),
  secret
)
```

## Wie funktioniert ein JWT?

### Authentifizierung

1. Der Benutzer meldet sich mit seinen Anmeldedaten an.
2. Der Server überprüft die Anmeldedaten und gibt ein JWT zurück.
3. Der Client speichert das JWT lokal (z.B. in localStorage oder einem Cookie).

### Autorisierung

1. Der Client sendet das JWT bei jeder Anfrage an geschützte Ressourcen im Authorization-Header.
2. Der Server überprüft das JWT und gewährt den Zugriff auf die angeforderten Ressourcen, wenn das Token gültig ist.

## Vorteile von JWT

- **Stateless**: JWTs sind zustandslos, was bedeutet, dass der Server keine Sitzungsinformationen speichern muss. Dies reduziert die Serverlast und verbessert die Skalierbarkeit ([dev.to](https://dev.to)).
- **Sicherheit**: Da JWTs digital signiert sind, kann der Empfänger sicher sein, dass die Informationen nicht manipuliert wurden. Dies ist besonders wichtig für die Übertragung sensibler Daten ([medium.com](https://medium.com)).
- **Kompakt**: JWTs sind kompakt und können leicht in URLs, POST-Parametern oder HTTP-Headern übertragen werden ([jwt.io](https://jwt.io)).
- **Interoperabilität**: JWTs sind ein offener Standard und können in verschiedenen Programmiersprachen und Frameworks verwendet werden ([auth0.com](https://auth0.com)).

## Nachteile von JWT

- **Größe**: JWTs können groß werden, insbesondere wenn viele Claims enthalten sind. Dies kann die Netzwerkbandbreite belasten und die Leistung beeinträchtigen ([jwt.io](https://jwt.io)).
- **Sicherheitsrisiken**: Wenn JWTs nicht sicher gespeichert oder übertragen werden, können sie abgefangen und missbraucht werden. Es ist wichtig, JWTs nur über HTTPS zu übertragen und sie nicht länger als nötig zu speichern ([freecodecamp.org](https://freecodecamp.org)).
- **Keine automatische Invalidierung**: Da JWTs zustandslos sind, gibt es keine einfache Möglichkeit, ein Token vor Ablauf der Gültigkeitsdauer zu invalidieren. Dies kann problematisch sein, wenn ein Token kompromittiert wird ([dev.to](https://dev.to)).

## Best Practices für die Implementierung von JWT

- **Verwendung von HTTPS**: Stellen Sie sicher, dass JWTs nur über HTTPS übertragen werden, um Abhörversuche zu verhindern ([auth0.com](https://auth0.com)).
- **Kurze Ablaufzeiten**: Setzen Sie kurze Ablaufzeiten für JWTs, um das Risiko eines Missbrauchs zu minimieren, falls ein Token kompromittiert wird ([medium.com](https://medium.com)).
- **Sichere Speicherung**: Speichern Sie JWTs sicher auf dem Client, z.B. in HttpOnly-Cookies, um XSS-Angriffe zu verhindern ([freecodecamp.org](https://freecodecamp.org)).
- **Vermeidung sensibler Daten**: Speichern Sie keine sensiblen Daten in der Payload eines JWT, da diese von jedem, der das Token besitzt, eingesehen werden können ([jwt.io](https://jwt.io)).

## Anwendungsfälle für JWT

- **API-Authentifizierung**: JWTs werden häufig zur Authentifizierung von API-Anfragen verwendet. Der Client sendet das JWT bei jeder Anfrage, und der Server überprüft das Token, um den Zugriff zu gewähren ([medium.com](https://medium.com)).
- **Single Sign-On (SSO)**: JWTs sind ideal für SSO, da sie leicht zwischen verschiedenen Domänen verwendet werden können, ohne dass Sitzungsinformationen auf dem Server gespeichert werden müssen ([auth0.com](https://auth0.com)).
- **Information Exchange**: JWTs können verwendet werden, um Informationen sicher zwischen Parteien zu übertragen, z.B. zwischen verschiedenen Microservices in einer verteilten Anwendung ([dev.to](https://dev.to)).

## Technische Details und Struktur von JWT

### Struktur eines JSON Web Tokens (JWT)

Ein JSON Web Token (JWT) besteht aus drei Hauptkomponenten: dem Header, dem Payload und der Signatur. Diese Komponenten sind durch Punkte (.) getrennt und werden jeweils Base64-URL-kodiert. Ein typisches JWT sieht wie folgt aus: `xxxxx.yyyyy.zzzzz`.

### Header

Der Header

eines JWT enthält Metadaten über das Token und die verwendete Signaturmethode. Er besteht in der Regel aus zwei Teilen:

- Typ des Tokens: Dies ist normalerweise "JWT".
- Signaturalgorithmus: Dies kann HMAC, RSA oder ECDSA sein.

Ein Beispiel für einen Header könnte wie folgt aussehen:

```json
{
  "alg": "HS256",
  "typ": "JWT"
}
```

### Payload

Der Payload enthält die Claims, also die Informationen, die im Token übertragen werden. Es gibt drei Arten von Claims:

- **Registered Claims**: Diese sind vordefiniert und optional. Beispiele sind iss (Issuer), exp (Expiration Time), sub (Subject) und aud (Audience).
- **Public Claims**: Diese können von jedem definiert werden, sollten aber zur Vermeidung von Namenskonflikten registriert werden.
- **Private Claims**: Diese sind für die Kommunikation zwischen zwei Parteien gedacht und nicht standardisiert.

Ein Beispiel für einen Payload könnte wie folgt aussehen:

```json
{
  "sub": "1234567890",
  "name": "John Doe",
  "admin": true
}
```

### Signatur

Die Signatur wird erstellt, indem der kodierte Header, der kodierte Payload und ein geheimer Schlüssel oder ein privater Schlüssel zusammengeführt und dann mit dem im Header angegebenen Algorithmus gehasht werden. Dies stellt sicher, dass das Token nicht manipuliert wurde.

Der Prozess zur Erstellung der Signatur sieht wie folgt aus:

- Kodieren des Headers und des Payloads.
- Zusammenfügen der kodierten Header- und Payload-Strings mit einem Punkt.
- Anwenden des Hash-Algorithmus mit einem geheimen Schlüssel.

Ein Beispiel für die Signaturerstellung mit HMAC-SHA256:

```plaintext
HMACSHA256(
  base64UrlEncode(header) + "." +
  base64UrlEncode(payload),
  secret
)
```

## Technische Details

### Kodierung und Sicherheit

JWTs verwenden Base64-URL-Kodierung, um sicherzustellen, dass die Token URL-sicher sind. Dies bedeutet, dass sie in URLs und HTTP-Headern übertragen werden können, ohne dass spezielle Zeichen maskiert werden müssen ([source](https://jwt.io)).

### Signaturmethoden

Es gibt verschiedene Algorithmen zur Signatur von JWTs:

- **HMAC (Hash-based Message Authentication Code)**: Ein symmetrischer Algorithmus, der einen geheimen Schlüssel verwendet.
- **RSA (Rivest-Shamir-Adleman)**: Ein asymmetrischer Algorithmus, der ein Schlüsselpaar (privat und öffentlich) verwendet.
- **ECDSA (Elliptic Curve Digital Signature Algorithm)**: Ein weiterer asymmetrischer Algorithmus, der elliptische Kurven verwendet.

Die Wahl des Algorithmus hängt von den Sicherheitsanforderungen und der Implementierung ab. RSA und ECDSA bieten höhere Sicherheit, da sie asymmetrisch sind und keine geheimen Schlüssel auf dem Client speichern müssen ([source](https://jwt.io)).

### Ablauf der JWT-Verwendung

1. **Erstellung des Tokens**: Der Server erstellt ein JWT, nachdem der Benutzer erfolgreich authentifiziert wurde.
2. **Übertragung des Tokens**: Das JWT wird an den Client gesendet und dort gespeichert (z.B. in einem Cookie oder im lokalen Speicher).
3. **Verwendung des Tokens**: Bei jeder nachfolgenden Anfrage sendet der Client das JWT im Authorization-Header.
4. **Verifizierung des Tokens**: Der Server verifiziert das JWT, indem er die Signatur überprüft und die Claims validiert.

Ein typischer Authorization-Header sieht wie folgt aus:

```plaintext
Authorization: Bearer <token>
```

## Sicherheitsüberlegungen

### Token-Expiration

JWTs sollten eine Ablaufzeit (exp Claim) haben, um sicherzustellen, dass sie nicht unbegrenzt gültig sind. Dies reduziert das Risiko, dass gestohlene Tokens missbraucht werden können ([source](https://jwt.io)).

### Verwendung von HTTPS

Die Übertragung von JWTs sollte immer über HTTPS erfolgen, um Man-in-the-Middle-Angriffe zu verhindern. Da JWTs nicht verschlüsselt, sondern nur signiert sind, können sie von jedem gelesen werden, der Zugriff auf das Token hat ([source](https://jwt.io)).

### Speicherung von JWTs

JWTs sollten sicher auf dem Client gespeichert werden. Der lokale Speicher und Cookies sind gängige Speicherorte, aber sie haben unterschiedliche Sicherheitsimplikationen. Cookies können anfällig für Cross-Site Scripting (XSS) sein, während der lokale Speicher anfällig für Cross-Site Request Forgery (CSRF) ist ([source](https://jwt.io)).

### Token-Revocation

Da JWTs stateless sind, ist die Token-Revocation eine Herausforderung. Eine Möglichkeit besteht darin, eine Blacklist auf dem Server zu führen, die abgelaufene oder widerrufene Tokens enthält. Alternativ können kürzere Ablaufzeiten und Refresh Tokens verwendet werden, um die Notwendigkeit der Revocation zu minimieren ([source](https://jwt.io)).

## Implementierungsbeispiel

Ein einfaches Beispiel zur Erstellung und Verifizierung eines JWTs in Node.js mit der `jsonwebtoken` Bibliothek:

### Installation der benötigten Pakete

```bash
npm install express jsonwebtoken body-parser
```

### Erstellen des Servers

```javascript
const express = require("express")
const jwt = require("jsonwebtoken")
const bodyParser = require("body-parser")
const app = express()
const secret = "your-256-bit-secret"

app.use(bodyParser.json())

app.post("/login", (req, res) => {
  const user = { id: 1, username: "test" }
  const token = jwt.sign(user, secret, { expiresIn: "1h" })
  res.json({ token })
})

app.get("/protected", (req, res) => {
  const token = req.headers["authorization"].split(" ")[1]
  jwt.verify(token, secret, (err, decoded) => {
    if (err) {
      return res.status(401).send("Unauthorized")
    }
    res.json({ message: "Protected data", user: decoded })
  })
})

app.listen(3000, () => {
  console.log("Server running on port 3000")
})
```

([Medium](https://medium.com/@roshan.waa/understanding-json-web-tokens-jwt-a-comprehensive-guide-1f407d5a95aa))

## Fazit

### Anwendungsfälle und Implementierung von JWT

### Anwendungsfälle von JSON Web Tokens (JWT)

- **Authentifizierung und Autorisierung**: JWTs sind besonders nützlich in der Authentifizierung und Autorisierung von Benutzern in Webanwendungen. Ein typisches Szenario ist die Verwendung von JWTs zur Verwaltung von Benutzersitzungen. Nach erfolgreicher Anmeldung eines Benutzers generiert der Server ein JWT, das an den Client zurückgesendet wird. Dieses Token wird dann bei jeder nachfolgenden Anfrage an den Server gesendet, um den Benutzer zu authentifizieren und zu autorisieren ([freeCodeCamp](https://freecodecamp.org)).
- **Single Sign-On (SSO)**: JWTs sind auch ideal für Single Sign-On (SSO)-Lösungen, bei denen ein Benutzer sich einmal anmeldet und dann auf mehrere Anwendungen zugreifen kann, ohne sich erneut anmelden zu müssen. Dies wird durch die Übertragung des JWTs zwischen den verschiedenen Diensten ermöglicht, die die Authentifizierung und Autorisierung des Benutzers überprüfen ([jwt.io](https://jwt.io)).
- **API-Sicherheit**: In der API-Sicherheit werden JWTs häufig verwendet, um den Zugriff auf geschützte Endpunkte zu kontrollieren. Ein API-Client sendet das JWT in den HTTP-Headern jeder Anfrage, und der Server überprüft das Token, um sicherzustellen, dass der Client berechtigt ist, auf die angeforderten Ressourcen zuzugreifen ([Curity](https://curity.io)).
- **Informationsaustausch**: JWTs bieten eine sichere Methode zum Austausch von Informationen zwischen Parteien. Da JWTs signiert sind, kann der Empfänger sicher sein, dass die Daten nicht manipuliert wurden und vom angegebenen Absender stammen. Dies ist besonders nützlich in verteilten Systemen, in denen verschiedene Dienste miteinander kommunizieren müssen ([IETF RFC 7519](https://datatracker.ietf.org/doc/html/rfc7519)).

### Implementierung von JSON Web Tokens (JWT)

#### Erstellung eines JWT

Die Erstellung eines JWT umfasst drei Hauptkomponenten: den Header, den Payload und die Signatur. Diese Teile werden jeweils Base64URL-kodiert und durch Punkte getrennt.

- **Header**: Der Header enthält Informationen über den Typ des Tokens und den verwendeten Signaturalgorithmus. Ein Beispiel für einen Header könnte wie folgt aussehen:

  ```json
  {
    "alg": "HS256",
    "typ": "JWT"
  }
  ```

  ([Bezkoder](https://www.bezkoder.com/jwt-json-web-token/))

- **Payload**: Der Payload enthält die Claims, also die Informationen, die im Token gespeichert werden sollen. Dies können Benutzerinformationen oder andere relevante Daten sein. Ein Beispiel für einen Payload könnte wie folgt aussehen:

  ```json
  {
    "sub": "1234567890",
    "name": "John Doe",
    "admin": true
  }
  ```

  ([Ionos](https://www.ionos.com/digitalguide/websites/web-development/json-web-token-jwt/))

- **Signatur**: Die Signatur wird erstellt, indem der Base64URL-kodierte Header und Payload mit einem geheimen Schlüssel und dem im Header angegebenen Algorithmus gehasht werden. Ein Beispiel für die Erstellung der Signatur in JavaScript könnte wie folgt aussehen

:

```javascript
const header = base64urlEncode(header)
const payload = base64urlEncode(payload)
const signature = HMACSHA256(header + "." + payload, secret)
const jwt = header + "." + payload + "." + signature
```

([Medium](https://medium.com/@roshan.waa/understanding-json-web-tokens-jwt-a-comprehensive-guide-1f407d5a95aa))

#### Verifizierung eines JWT

Die Verifizierung eines JWT erfolgt durch Überprüfung der Signatur und der enthaltenen Claims. Der Server dekodiert das JWT, überprüft die Signatur mit dem geheimen Schlüssel und stellt sicher, dass die Claims gültig sind. Ein Beispiel für die Verifizierung in Node.js könnte wie folgt aussehen:

```javascript
const jwt = require("jsonwebtoken")
const token = req.headers["authorization"].split(" ")[1]

jwt.verify(token, secret, (err, decoded) => {
  if (err) {
    return res.status(401).send("Unauthorized")
  }
  req.user = decoded
  next()
})
```

([freeCodeCamp](https://freecodecamp.org))

## Sicherheitsüberlegungen

### Verwendung starker Signaturalgorithmen

Es ist wichtig, starke Signaturalgorithmen wie HS256 oder RS256 zu verwenden, um die Integrität des Tokens zu gewährleisten ([Curity](https://curity.io)).

### Token-Expiration

JWTs sollten eine Ablaufzeit haben, um sicherzustellen, dass sie nicht unbegrenzt gültig sind. Dies kann durch das Hinzufügen eines `exp`-Claims im Payload erreicht werden:

```json
{
  "sub": "1234567890",
  "name": "John Doe",
  "admin": true,
  "exp": 1516239022
}
```

([IETF RFC 7519](https://datatracker.ietf.org/doc/html/rfc7519))

### Verwendung von HTTPS

Die Übertragung von JWTs sollte immer über HTTPS erfolgen, um Man-in-the-Middle-Angriffe zu verhindern ([Bezkoder](https://www.bezkoder.com/jwt-json-web-token/)).

### Sichere Speicherung von JWTs

JWTs sollten sicher auf dem Client gespeichert werden, z.B. in localStorage oder sessionStorage im Browser. Es ist wichtig, keine sensiblen Daten im JWT zu speichern, da es leicht dekodiert werden kann ([Curity](https://curity.io)).

## Implementierungsbeispiel

Ein einfaches Beispiel für die Implementierung von JWT-Authentifizierung in einer Express.js-Anwendung könnte wie folgt aussehen:

### Installation der benötigten Pakete

```bash
npm install express jsonwebtoken body-parser
```

### Erstellen des Servers

```javascript
const express = require("express")
const jwt = require("jsonwebtoken")
const bodyParser = require("body-parser")
const app = express()
const secret = "your-256-bit-secret"

app.use(bodyParser.json())

app.post("/login", (req, res) => {
  const user = { id: 1, username: "test" }
  const token = jwt.sign(user, secret, { expiresIn: "1h" })
  res.json({ token })
})

app.get("/protected", (req, res) => {
  const token = req.headers["authorization"].split(" ")[1]
  jwt.verify(token, secret, (err, decoded) => {
    if (err) {
      return res.status(401).send("Unauthorized")
    }
    res.json({ message: "Protected data", user: decoded })
  })
})

app.listen(3000, () => {
  console.log("Server running on port 3000")
})
```

([Medium](https://medium.com/@roshan.waa/understanding-json-web-tokens-jwt-a-comprehensive-guide-1f407d5a95aa))

```

















































<!-- DISQUS SCRIPT COMMENT START -->






<hr style="border: none; height: 2px; background: linear-gradient(to right, #f0f0f0, #ccc, #f0f0f0); margin-top: 4rem; margin-bottom: 5rem;">
<div id="disqus_thread"></div>
<script>
    /**
    *  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
    *  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables    */
    /*
    var disqus_config = function () {
    this.page.url = PAGE_URL;  // Replace PAGE_URL with your page's canonical URL variable
    this.page.identifier = PAGE_IDENTIFIER; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
    };
    */
    (function() { // DON'T EDIT BELOW THIS LINE
    var d = document, s = d.createElement('script');
    s.src = 'https://myuninotes.disqus.com/embed.js';
    s.setAttribute('data-timestamp', +new Date());
    (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>






<!-- DISQUS SCRIPT COMMENT END -->

















































<!-- Modal START -->
<div id="myModal" class="modal">
  <div class="modal-content">
    <span id="closeModal" class="close">&times;</span>
    <p class="modal-text">
      <span class="modal-highlight">MyUniNotes is a personal, non-revenue project as I believe in accessible education for everyone.</span> I manage this project alongside my studies, with all materials handwritten by me trying to help others understand challenging concepts.
    </p>
    <p class="modal-text">
      If MyUniNotes has been helpful and you’d like to support my efforts, <span class="modal-highlight"> you can contribute with a donation: <a class="modal-dono-link" href="https://paypal.me/myuninotes4u">Donate via PayPal</a> :) </span> Your support will help me continue improving the content, but there is no obligation to donate.
    </p>
  </div>
</div>

<script>
  // JavaScript to display the modal on page load
  document.addEventListener('DOMContentLoaded', function() {
    // Generate a random number between 1 and 1
    // Wanted it to load with a adjustable probability for every page load but did not work, as DOM is loaded only once. Therefore now loading it every time website is visited and DOM is loaded.
    const randomNumber = Math.floor(Math.random() * 1) + 1;
    console.log(randomNumber)
    if (randomNumber === 1) {
      setTimeout(function() {
        const modal = document.getElementById('myModal');
        if (modal) {
          modal.classList.add('show');
        }
      }, 1000); // Adjust the delay as needed

      const closeModal = document.getElementById('closeModal');
      if (closeModal) {
        closeModal.addEventListener('click', function() {
          const modal = document.getElementById('myModal');
          if (modal) {
            modal.classList.remove('show');
          }
        });
      }
    } else {
      // Ensure the modal is hidden if the random number is not 1
      const modal = document.getElementById('myModal');
      if (modal) {
        modal.style.display = 'none';
      }
    }
  });
</script>
<!-- Modal END -->












































```
